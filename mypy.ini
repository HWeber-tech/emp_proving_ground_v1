# mypy configuration (interim) — Profile A: Python 3.11, base transitional config + per-package overrides
# Base config is intentionally lenient to avoid blocking existing code; strictness applied via:
#  - Per-package sections (see src.sensory.utils.* below targeting L3)
#  - CI strict-on-touch step for changed files
#
# Notes:
#  - mypy_path points to local source and stubs so imports resolve without site-packages type hints.
#  - Prefer adding/adjusting stubs under stubs/ rather than using ignore_missing_imports for packages long-term.

[mypy]
python_version = 3.11
mypy_path = stubs
explicit_package_bases = True
packages = src

# Transition-friendly defaults (repository-wide)
ignore_missing_imports = True
follow_imports = normal
namespace_packages = True
# Keep implicit re-exports during transition to avoid breaking re-export patterns;
# Per-package overrides can flip this off for stricter control.
implicit_reexport = True

show_error_codes = True
pretty = True
color_output = True

# Entry-level safety disabled globally; enforced via per-package overrides and CI strict-on-touch
disallow_untyped_defs = False
disallow_incomplete_defs = False
no_implicit_optional = False
disallow_any_generics = False
check_untyped_defs = True

# Warnings tuned down globally; enabled in strict packages and CI strict-on-touch
warn_unused_ignores = True
warn_redundant_casts = False
warn_return_any = False
strict_equality = False

# Allow common refactors during transition
allow_redefinition = True

# ------------------------------------------------------------------------------------------
# Per-package overrides
# Target L3 strictness for the pilot package src.sensory.utils.*
# L3 definition (enforced here):
#  - disallow_untyped_defs
#  - disallow_incomplete_defs
#  - no_implicit_optional
#  - disallow_any_generics
#  - warn_unused_ignores, warn_redundant_casts, warn_return_any
#  - strict_equality
#  - check_untyped_defs
#  - implicit_reexport disabled for tighter boundaries
#  - ignore_missing_imports disabled to surface missing types; prefer stubs under stubs/
[mypy-src.sensory.utils.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

# Batch Sweep 1 targets — L3 strictness
[mypy-src.core.performance.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.validation.accuracy.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.operational.state.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.ui.models.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

# Batch Sweep 2 targets — L3 strictness
[mypy-src.trading.models.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.performance.analytics.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.ui.api.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.system.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.models.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sensory.what.features.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.market_intelligence.dimensions.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

# ------------------------------------------------------------------------------------------
# Batch Sweep 3 targets — L3 strictness
[mypy-src.trading.order_management.order_book.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.order_management.monitoring.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.order_management.execution.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.portfolio.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.validation.performance.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.ui.cli.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sensory.when.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sensory.why.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.ecosystem.evaluation.*]
ignore_missing_imports = False
implicit_reexport = False

disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True

warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.core.risk.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.data_foundation.config.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.data_foundation.ingest.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.data_foundation.persist.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.data_foundation.replay.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.data_sources.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.performance.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

# ------------------------------------------------------------------------------------------
# Batch Sweep 5 targets — L3 strictness
[mypy-src.config.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.data_foundation.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.ecosystem.coordination.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.ecosystem.optimization.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.ecosystem.species.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.ecosystem.evolution.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.evolution.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.evolution.ambusher.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.evolution.mutation.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.evolution.selection.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.evolution.evaluation.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.evolution.meta.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.orchestration.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.portfolio.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sensory.enhanced.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sensory.services.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sensory.vendor.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sensory.what.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sensory.what.patterns.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sentient.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.adaptation.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.adversarial.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.competitive.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.ecosystem.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.learning.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.prediction.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.inference.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.memory.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.thinking.patterns.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.strategies.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.execution.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.integration.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.monitoring.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.risk.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.trading.performance.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.core.evolution.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.validation.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.governance.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.operational.bus.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.operational.container.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.operational.monitoring.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.integration.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.sensory.organs.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True

[mypy-src.intelligence.*]
ignore_missing_imports = False
implicit_reexport = False
disallow_untyped_defs = True
disallow_incomplete_defs = True
no_implicit_optional = True
disallow_any_generics = True
check_untyped_defs = True
warn_unused_ignores = True
warn_return_any = True
strict_equality = True
